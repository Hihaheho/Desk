*<
  @"files" [
    *<
      @"name" "main.ds",
      @"content" "
        'type add \\ *<@\"l\" 'number, @\"r\" 'number> -> @\"sum\" 'number;
        'type div \\ *<@"dividend" 'number, @"divisor" 'number> ->
          ! { @\"division by zero\" 'number ~> 'number } @\"quotient\" 'number;
        #1 'handle #2 > div @\"dividend\" 3, @\"divisor\" 0 {
          @\"division by zero\" 'number ~> 'number =>
            >add(& @\"division by zero\" 'number, 1)
        }
      "
    >
  ],
  @"entrypoint" "main.ds",
  @"assertions" [
    @"Typed" [
      *<1, @"Label" *<
        @"label" @Literal @String "quotient",
        @"item" @"Number" *<>
      >>,
      *<2, @"Effectful" *<
        @"ty" @"Label" *<
          @"label" @Literal @String "quotient",
          @"item" @"Number" *<>
        >,
        @"effects" [
          *<
            @"input" @"Label" *<
              @"label" @Literal @String "division by zero",
              @"item" @"Number" *<>
            >,
            @"output" @"Number" *<>
          >
        ]
      >>
    ],
    @"RunSuccess" *<
      @"result" @"Number" @"Integer" 4
    >
  ]
>
