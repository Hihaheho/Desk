*<
  @"files" [
    *<
      @"name" "main.ds",
      @"content" "
        ~~ type aliases
        'type add \\ *<@\"l\" 'number, @\"r\" 'number> -> @\"sum\" 'number;
        'type sub \\ *<@\"minuend\" 'number, @\"subtrahend\" 'number> -> 'number;
        'type eq \\ *<@\"l\" 'number, @\"r\" 'number> -> +<@\"equal\" *<>, @\"unequal\" *<>>;
        'type fib \\ 'number -> 'number;

        ~~ let fib
        $ \\ 'number -> 'match ^eq *<@\"l\" &'number, @\"r\" 0> '{
          ~~ if number == 0)
          @\"equal\" *<> => 0
          ~~ if number != 0
          @\"unequal\" *<> => 'match ^eq *<@\"l\" &'number, @\"r\" 1> '{
            @\"equal\" *<> => 1
            @\"unequal\" *<> =>
              ~~ adds fib(number - 1) and fib(number - 2)
              <'number> ^add *<
                ^fib ^sub *<@\"minuend\" &'number, 1>
                ^fib ^sub *<@\"minuend\" &'number, 2>
              >
          '}
        '};
        ^fib(7)
      "
    >
  ],
  @"assertions" *<
    @"runs" [
      *<
        @"entrypoint" @"File" "main.ds",
        @"result" @"Success" @"Number" @"Integer" 13
      >
    ]
  >
>
